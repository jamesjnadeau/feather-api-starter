
var feathers = require('feathers-client');


module.exports = function(url) {
  console.log('configured feathers url', url);
  var app = feathers(url)
    .configure(feathers.jquery());

  return function(name) {
    var service = app.service(name);
    service.count = function(params, callback) {
      this.request({
        url: this.makeUrl(params, 'count'),
        method: 'GET'
      }).then(callback);
    };
    return service;
  };

};
